---
title: "Plot 4-in-1"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Plot 4-in-1}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<style type="text/css">
  body{
  font-size: 12pt;
}
</style>

```{r, include = FALSE}
knitr::opts_chunk$set(fig.width=7, fig.height=5,
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(MVQuickGraphs)
```

_plot4in1_ creates a 2x2 panel graph that contains four often-used residual diagnostic plots for linear regression:

- a Percentile-Percentile plot or a Quantile-Quantile plot (depending on what the user specifies),
- a scatterplot of the fitted values against the residuals,
- a histogram of the residuals,
- and a scatterplot of the residuals against their order.

The function ensures the graphical style is consistent across the four plots. It is also designed to be intuitive; _plot4in1_ was originally intended to be used by students learning R for the first time during an introductory course on regression.

## Basic functionality

To produce a panel graph, the function needs to only be given the output of the _lm_ function.

```{r}
out <- lm(Girth ~ Volume, data = trees)
plot4in1(out)
```

By default, a Normal Percentile Plot (P-P Plot) is provided in the top-left panel (because the parameter `PP` is set to TRUE by default). To instead generate a Normal Quantile Plot (Q-Q Plot) for the top-left panel, one can set the parameter `PP` to FALSE.

```{r}
plot4in1(out, PP = FALSE)
```

## Changing the type of residuals used

One can set the residual type to be either "Regular" (the default), "Standardized", or "Studentized". 

If `type = "Regular"`, untransformed residuals are used in the plots.

```{r}
plot4in1(out, type = "Regular")
```

If `type = "Standardized"`, standardized residuals are used (as computed by _rstandard_).

```{r}
plot4in1(out, type = "Standardized")
```

Finally, if `type = "Studentized"`, externally studentized residuals are used (as computed by _rstudent_).

```{r}
plot4in1(out, type = "Studentized")
```

## Graphical options

The color used in the plots can be changed from the default of "steelblue" by providing a different value for `col` in the function call.

```{r}
plot4in1(out, col = "orange")
```

The symbols (used in all plots but the histogram) can also be modified. Using the `pch` parameter, one can specify the symbol to be used. The default is a filled circle (`pch = 19`). See the _points_ documentation page for more information on the supported symbols. Additionally, the size of the symbols can be set with `cex` (where the default value for `cex` is 1.2).

```{r}
plot4in1(out, col = "orange", pch = 18, cex = 1.6)
```
